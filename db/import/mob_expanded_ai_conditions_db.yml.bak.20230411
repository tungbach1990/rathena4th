#Format : - [not] enemy|self|friend|master status [[[><]=]valeur]]
#For fields see doc/expanded_conditions.txt

Header:
  Type: MOB_EXPANDED_AI_CONDITIONS_DB
  Version: 1

Body:

 - friendrecoverable:
   - or:
     - friend sleep    
     - friend stone
     - friend stun
     - friend freeze

 - friendcurable:
   - or:
     - friend silence
     - friend confusion
     - friend blind

 - friend_need_aspersio:
   - not friend aspersio
   - or:
     - enemy undead >0
     - enemy dark >0
     - enemy ghost >0

 - selfcellempty:
   - not self safetywall
   - not self pneuma
   - not self landprotector
   - not self icewall

 - friendcellempty:
   - not friend safetywall
   - not friend pneuma
   - not friend landprotector
   - not friend icewall

 - ignore_neutral:
    - or:
      - enemy ghostarmor >1
      - enemy neutralresist >=100%

 - asura:
#   - self spiritball >=5 # to be implemented
   - self explosionspirits
   - not enemy safetywall
   - not ignore_neutral
   - nand:
     - enemy neutralresist >=50%
     - enemy ghostarmor >0
   - nand:
     - enemy reflectphy >=10%
     - nxor :
       - enemy neutralresist >=50%
       - enemy ghostarmor >0

 - explosion:
     - not self explosionspirits
     # - self spiritball <5 #same

 - selfcloserangecellempty:
   - or:
     - enemy distance_from_self <=5 # range is 3 but to have time to cast it
   - not enemy range >3
   - selfcellempty

 - friendcloserangecellempty:
   - enemy distance_from_friend <=5
   - not enemy range >3
   - friendcellempty

 - enemy_have_pneuma:
    - enemy pneuma
    
 - enemy_too_close:
    - enemy distance_from_self <=5

 - enemy_too_far:
    - enemy distance_from_self >=3
    
 - enemy_havent_pneuma:
   - not enemy pneuma   

 - safety_wall_pushable:
   - enemy safetywall
   - not enemy knockbackimmune
   
 - ready_for_light:
   - enemy freeze

 - ready_for_sg:
   - not enemy freeze
   
 - ready_for_lksp:
   - not enemy distance_from_self >3
   
 - ready_for_endure:
   - not self endure
   
 - ready_for_concentration:
   - not self lkconcentration

 - ss_for_lkconcen:
   - not self lkconcentration
   
 - ready_for_aurablade:
   - not self aurablade
   
 - ready_for_parry:
   - not self parry   
   
 - ready_for_berserk:
   - not self berserk
   - self percenthealth <5

 - ready_for_unlimited:
   - self percenthealth <50
   
 - ready_for_lksbom:
   - enemy distance_from_self >3
   
 - check_armor_neutral:
   - and: 
       - or:
         - enemy ghostarmor >1
         - enemy neutralresist >=30%
       - enemy distance_from_self >3
       
 - check_armor_fireorwater:
   - and: 
       - or:
         - enemy firearmor >0
         - enemy waterarmor >0
       
 - check_armor_notfireorwater_toofar:
    - and:
        - not enemy firearmor >0
        - not enemy fireresist >=50%
        - not enemy waterarmor >0
        - not enemy waterresist >=50%    
    - enemy distance_from_self >=3
         
