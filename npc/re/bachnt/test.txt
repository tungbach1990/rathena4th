-	script	Costume Drop	-1,{
	OnNPCKillEvent:
		if (BaseLevel >= 250)
		callfunc("onkilledllan",2,"ONLan1Killed","Daﬁ T‚?u sinh Quest Quest 1");

	end;

	ONLan1Killed:
	getunitdata killedgid,.@data2;
		if (BaseLevel <= .@data2[UMOB_LEVEL])
			BaseLevel = BaseLevel + 1;
		end;
	end;

end;	
}



function	script	onkilledllan	{
.idmob = killedrid;
getunitdata killedgid,.@data;
.@m$ = mapid2name(.@data[UMOB_MAPID]);
.@x = .@data[UMOB_X];
.@y = .@data[UMOB_Y];
monster .@m$,.@x,.@y,getarg(2),.idmob,1,strnpcinfo(3) +"::" + getarg(1);
.GID = $@mobid[0];
.@lv = .@data[UMOB_LEVEL]*(.@data[UMOB_LEVEL]  + 250)/10 + 250;
.times = getarg(0) * .@lv;
setunitdata .GID,UMOB_TARGETID,.@data[UMOB_TARGETID];
setunitdata .GID,UMOB_LEVEL,.@lv;
setunitdata .GID,UMOB_MAXHP,(.@data[UMOB_MAXHP]/.@data[UMOB_LEVEL])*(10+.times)/10 + .@data[UMOB_MAXHP]*.times;
setunitdata .GID,UMOB_ATKMIN,.@data[UMOB_ATKMIN] + .times*3;
setunitdata .GID,UMOB_ATKMAX,.@data[UMOB_ATKMAX] + .times*3;
setunitdata .GID,UMOB_SPEED,.@data[UMOB_SPEED];
setunitdata .GID,UMOB_MATK,.@data[UMOB_MATK] +.times*3;
setunitdata .GID,UMOB_DEF,.@data[UMOB_DEF] +.times;
setunitdata .GID,UMOB_MDEF,.@data[UMOB_MDEF] +.times;
setunitdata .GID,UMOB_HIT,.@data[UMOB_HIT]*2+ .@lv;
setunitdata .GID,UMOB_FLEE,.@data[UMOB_FLEE]*2 + .@lv;
setunitdata .GID,UMOB_PDODGE,.@data[UMOB_PDODGE]*(10+.times)/10;
setunitdata .GID,UMOB_CRIT,.@data[UMOB_CRIT]*(10+.times)/10;
setunitdata .GID,UMOB_RES,.@data[UMOB_RES]*(10+.times)/10;
setunitdata .GID,UMOB_MRES,.@data[UMOB_MRES]*(10+.times)/10;

}
